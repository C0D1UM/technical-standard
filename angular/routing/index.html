<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Routing | CODIUM Technical Standard</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Routing" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="CODIUM Co., Ltd." />
<meta property="og:description" content="CODIUM Co., Ltd." />
<link rel="canonical" href="https://codium.co/technical-standard/angular/routing/" />
<meta property="og:url" content="https://codium.co/technical-standard/angular/routing/" />
<meta property="og:site_name" content="CODIUM Technical Standard" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Routing" />
<script type="application/ld+json">
{"description":"CODIUM Co., Ltd.","url":"https://codium.co/technical-standard/angular/routing/","@type":"WebPage","headline":"Routing","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/technical-standard/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://codium.co/technical-standard/feed.xml" title="CODIUM Technical Standard" /></head>
<body><header class="site-header">
    <div class="wrapper"><a class="site-title" rel="author" href="/technical-standard/">CODIUM Technical Standard</a><nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
                <span class="menu-icon">
                    <svg viewBox="0 0 18 15" width="18px" height="15px">
                        <path
                            d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" />
                    </svg>
                </span>
            </label>

            <div class="trigger">
                <form action="/technical-standard/search.html" method="get">
    <label for="search-box">Search</label>
    <input type="text" id="search-box" name="query">
    <input type="submit" value="search">
</form>

            </div>
        </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h3><strong>Table of Contents</strong></h3>
<ul><li><a href="#feature-separated">Feature Separated</a></li><li><a href="#lazy-loading">Lazy Loading</a></li><li><a href="#use-guard">Use Guard</a><ul><li><a href="#group-guard">Group Guard</a></li><li><a href="#use-barrel-exports">Use Barrel Exports</a></li></ul></li></ul>

          <hr><br><br>
        

        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Routing</h1>
  </header>

  <div class="post-content">
    <p>Best practices for routing.</p>
<h1 id="handle-not-found-url">Handle Not Found URL</h1>
<p>Always add not found view to handle not found url.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">**</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">NotFoundComponent</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>
<h2 id="feature-separated">Feature Separated</h2>
<p>You shouldn't having all component in one routing, you should split into modules
dictated by feature. And also this would help you separate on view that need
navbar and some views that doesn't need navbar.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// No</span>
<span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dashboard</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">DashboardComponent</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tasks</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">TaskComponent</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">LoginComponent</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">**</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">NotFoundComponent</span><span class="p">}</span>
<span class="p">]</span>

<span class="c1">// Yes</span>
<span class="c1">// main-routing.module.ts</span>
<span class="kd">const</span> <span class="nx">mainRoutes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dashboard</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">DashboardComponent</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tasks</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">TaskComponent</span><span class="p">},</span>
<span class="p">]</span>

<span class="c1">// app-routing.modules.ts</span>
<span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">views</span><span class="dl">'</span><span class="p">,</span> <span class="na">children</span><span class="p">:</span> <span class="nx">mainRoutes</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">login</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">LoginComponent</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">**</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">NotFoundComponent</span><span class="p">},</span>
<span class="p">]</span>
</code></pre></div></div>
<h2 id="lazy-loading">Lazy Loading</h2>
<p>Lazy loading help to split your application to smaller chunks and load only when
requested, not the whole app at once. <a href="https://angular.io/guide/lazy-loading-ngmodules">Learn More</a></p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">feature-a</span><span class="dl">'</span><span class="p">,</span> <span class="na">loadChildren</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./views/feature-a/feature-a.module#FeatureA</span><span class="dl">'</span><span class="p">},</span>
  <span class="p">{</span><span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">feature-B</span><span class="dl">'</span><span class="p">,</span> <span class="na">loadChildren</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./views/feature-a/feature-a.module#FeatureB</span><span class="dl">'</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>
<h2 id="use-guard">Use Guard</h2>
<p>For specific view that required permission use guard. <a href="https://angular.io/api/router/CanActivate">Learn More</a></p>
<h3 id="group-guard">Group Guard</h3>
<p>Group guards into one <code>guards</code> directory. Shared guard should in <code>shared</code> directory
and specific guard for feature should be in it's own module.</p>
<pre><code class="language-script">>app/
---/shared
----------/guards
---/views
----------/road-map
-------------------/guards
</code></pre>
<h3 id="use-barrel-exports">Use Barrel Exports</h3>
<p>Use barrel exports to make your calling to guard more clean. Example in <code>guards</code> directory
create a new field <code>index.ts</code>, then add export code as below:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// guards/index.ts</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./admin.can-activate.guard</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="o">*</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./other.can-deactivate.guard</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>Then when import we can do this:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">AdminCanActivateGuard</span><span class="p">,</span> <span class="nx">OtherCanDeactivateGuard</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">scr/app/shared/guards</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>But without barrel export we will need to:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">AdminCanActivateGuard</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">src/app/shared/guards/admin.can-activate.guard</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">OtherCanDeactivateGuard</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">src/app/shared/guards/other.can-deactivate.guard</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

  </div>

</article>


        

        
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/technical-standard/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">CODIUM Technical Standard</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">CODIUM Technical Standard</li><li><a class="u-email" href="mailto:contact@codium.co">contact@codium.co</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/c0d1um"><svg class="svg-icon"><use xlink:href="/technical-standard/assets/minima-social-icons.svg#github"></use></svg> <span class="username">c0d1um</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>CODIUM Co., Ltd.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
